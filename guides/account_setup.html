<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Controls Account Setup Guide &mdash; NSLS-II CSX Beamline Docs 0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="NSLS-II CSX Beamline Docs 0.1 documentation" href="../index.html" />
    <link rel="up" title="Guides and Tutorials" href="index.html" />
    <link rel="next" title="Installing a Personal Conda Environment" href="conda_env.html" />
    <link rel="prev" title="HELP!! The %$^$#@% just crashed" href="help.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          NSLS-II CSX Beamline Docs</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../csx-1/index.html">CSX-1 (23-ID-1) Beamline Doccumentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csx-1/index.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Guides and Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Controls Account Setup Guide</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#fixing-permissions">Fixing Permissions</a></li>
<li><a class="reference internal" href="#setting-up-an-ssh-key">Setting up an SSH Key</a><ul>
<li><a class="reference internal" href="#create-the-rsa-key-pair">Create the RSA Key Pair</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="help.html" title="Previous Chapter: HELP!! The %$^$#@% just crashed"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; HELP!! The %$...</span>
    </a>
  </li>
  <li>
    <a href="conda_env.html" title="Next Chapter: Installing a Personal Conda Environment"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Installing a ... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/guides/account_setup.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary">
  <li>
    <a href="help.html" title="Previous Chapter: HELP!! The %$^$#@% just crashed"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; HELP!! The %$...</span>
    </a>
  </li>
  <li>
    <a href="conda_env.html" title="Next Chapter: Installing a Personal Conda Environment"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Installing a ... &raquo;</span>
    </a>
  </li><ul>
<li><a class="reference internal" href="#">Controls Account Setup Guide</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#fixing-permissions">Fixing Permissions</a></li>
<li><a class="reference internal" href="#setting-up-an-ssh-key">Setting up an SSH Key</a><ul>
<li><a class="reference internal" href="#create-the-rsa-key-pair">Create the RSA Key Pair</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="sourcelink">
  <a href="../_sources/guides/account_setup.txt"
     rel="nofollow">Source</a>
</div>
<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-9">
      
  <div class="section" id="controls-account-setup-guide">
<h1>Controls Account Setup Guide<a class="headerlink" href="#controls-account-setup-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>NSLS-II controls accounts allow access to all computers at CSX. Once a new
account has been created, the following is suggested to get the account working
correctly.</p>
</div>
<div class="section" id="fixing-permissions">
<h2>Fixing Permissions<a class="headerlink" href="#fixing-permissions" title="Permalink to this headline">¶</a></h2>
<p>Firstly, all accounts are created with global read permissions. If this is OK
by you then skip the next step. However, if you want to restict access to files
in your home directory then do the following:</p>
<div class="highlight-python"><div class="highlight"><pre>[swilkins@xf23id1-srv2 ~ ]$ chmod o-rwx,g-w+rx,u+rwx /home/&lt;uid&gt;
</pre></div>
</div>
</div>
<div class="section" id="setting-up-an-ssh-key">
<h2>Setting up an SSH Key<a class="headerlink" href="#setting-up-an-ssh-key" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-the-rsa-key-pair">
<h3>Create the RSA Key Pair<a class="headerlink" href="#create-the-rsa-key-pair" title="Permalink to this headline">¶</a></h3>
<p>The first step is to create an SSH key pair in your home directory:</p>
<div class="highlight-python"><div class="highlight"><pre>ssh-keygen -t rsa
</pre></div>
</div>
<p>the <code class="docutils literal"><span class="pre">ssh-keygen</span></code> command will ask you a few questions:</p>
<div class="highlight-python"><div class="highlight"><pre>Enter file in which to save the key (/home/demo/.ssh/id_rsa):
</pre></div>
</div>
<p>You can press enter here, saving the file to the user home (in this case, the
user is called demo).</p>
<div class="highlight-python"><div class="highlight"><pre>Enter passphrase (empty for no passphrase):
</pre></div>
</div>
<p>It&#8217;s up to you whether you want to use a passphrase. Entering a passphrase does have its benefits: the security of a key, no matter how encrypted, still depends on the fact that it is not visible to anyone else. Should a passphrase-protected private key fall into an unauthorized users possession, they will be unable to log in to its associated accounts until they figure out the passphrase, buying the hacked user some extra time. The only downside, of course, to having a passphrase, is then having to type it in each time you use the Key Pair.</p>
<p>The entire key generation process looks like this:</p>
<p>ssh-keygen -t rsa
Generating public/private rsa key pair.
Enter file in which to save the key (/home/demo/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/demo/.ssh/id_rsa.
Your public key has been saved in /home/demo/.ssh/id_rsa.pub.
The key fingerprint is:
4a:dd:0a:c6:35:4e:3f:ed:27:38:8c:74:44:4d:93:67 demo&#64;a
The key&#8217;s randomart image is:
+&#8211;[ RSA 2048]&#8212;-+
|          .oo.   |
|         .  o.E  |
|        + .  o   |
|     . = = .     |
|      = S = .    |
|     o + = +     |
|      . o + o .  |
|           . o   |
|                 |
+&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+
The public key is now located in /home/demo/.ssh/id_rsa.pub The private key (identification) is now located in /home/demo/.ssh/id_rsa</p>
<p>Step Three—Copy the Public Key
Once the key pair is generated, it&#8217;s time to place the public key on the virtual server that we want to use.</p>
<p>You can copy the public key into the new machine&#8217;s authorized_keys file with the ssh-copy-id command. Make sure to replace the example username and IP address below.</p>
<p>ssh-copy-id <a class="reference external" href="mailto:user&#37;&#52;&#48;123&#46;45&#46;56&#46;78">user<span>&#64;</span>123<span>&#46;</span>45<span>&#46;</span>56<span>&#46;</span>78</a>
Alternatively, you can paste in the keys using SSH:</p>
<p>cat ~/.ssh/id_rsa.pub | ssh <a class="reference external" href="mailto:user&#37;&#52;&#48;123&#46;45&#46;56&#46;78">user<span>&#64;</span>123<span>&#46;</span>45<span>&#46;</span>56<span>&#46;</span>78</a> &#8220;mkdir -p ~/.ssh &amp;&amp; cat &gt;&gt;  ~/.ssh/authorized_keys&#8221;
No matter which command you chose, you should see something like:</p>
<p>The authenticity of host &#8216;12.34.56.78 (12.34.56.78)&#8217; can&#8217;t be established.
RSA key fingerprint is b1:2d:33:67:ce:35:4d:5f:f3:a8:cd:c0:c4:48:86:12.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added &#8216;12.34.56.78&#8217; (RSA) to the list of known hosts.
user&#64;12.34.56.78&#8217;s password:
Now try logging into the machine, with &#8220;ssh &#8216;user&#64;12.34.56.78&#8217;&#8221;, and check in:</p>
<blockquote>
<div><p>~/.ssh/authorized_keys</p>
<p>to make sure we haven&#8217;t added extra keys that you weren&#8217;t expecting.
Now you can go ahead and log into <a class="reference external" href="mailto:user&#37;&#52;&#48;12&#46;34&#46;56&#46;78">user<span>&#64;</span>12<span>&#46;</span>34<span>&#46;</span>56<span>&#46;</span>78</a> and you will not be prompted for a password. However, if you set a passphrase, you will be asked to enter the passphrase at that time (and whenever else you log in in the future).</p>
</div></blockquote>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015, Stuart B. Wilkins.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>